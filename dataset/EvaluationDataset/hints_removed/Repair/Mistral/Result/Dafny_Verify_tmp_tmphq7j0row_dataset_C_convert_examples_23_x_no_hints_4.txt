1

 //buggy line corrected to

sum := sum + i;
i := i - 1;